# AlphaQuant - ä¸­å›½è‚¡å¸‚é‡åŒ–äº¤æ˜“ç³»ç»Ÿ

åŸºäº AlphaGPT ç¬¦å·å›å½’æ¶æ„å¼€å‘çš„ä¸­å›½è‚¡å¸‚é‡åŒ–äº¤æ˜“ç³»ç»Ÿï¼Œæ”¯æŒå› å­æŒ–æ˜ã€å›æµ‹æ¨¡æ‹Ÿã€æ¨¡å‹è®­ç»ƒå’Œç­–ç•¥æ‰§è¡Œã€‚

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ“Š æ•°æ®ç®¡é“
- âœ… **Tushare Pro å¼‚æ­¥æ¥å£** - æ”¯æŒå¹¶å‘æ§åˆ¶å’Œè‡ªåŠ¨é‡è¯•
- âœ… **æ•°æ®ç¼“å­˜** - MongoDB æœ¬åœ°å­˜å‚¨
- âœ… **å¸‚åœºæ•°æ®** - è‚¡ç¥¨è¡Œæƒ…ã€å› å­æ•°æ®ã€èµ„é‡‘æµå‘ã€æ¶¨è·Œåœåˆ—è¡¨

### ğŸ”¬ å› å­å¼•æ“
- âœ… **24ç»´å› å­ç©ºé—´** - 6ç»´åŸºç¡€ + 18ç»´é«˜çº§å› å­
- âœ… **ä¸­å›½å¸‚åœºå› å­** - åŒ—å‘èµ„é‡‘ã€èèµ„èåˆ¸ã€æ¶¨è·Œåœç»Ÿè®¡
- âœ… **æŠ€æœ¯æŒ‡æ ‡** - RSIã€MACDã€å¸ƒæ—å¸¦ã€ATRã€KDJ ç­‰
- âœ… **æ‰¹é‡è®¡ç®—** - å‘é‡åŒ–å¤„ç†ï¼Œé«˜æ•ˆè®¡ç®—

### ğŸ“ˆ å›æµ‹å¼•æ“
- âœ… **T+1 äº¤æ˜“è§„åˆ™** - ç¬¦åˆä¸­å›½è‚¡å¸‚è§„åˆ™
- âœ… **æ¶¨è·Œåœé™åˆ¶** - ä¸»æ¿10%ã€åˆ›ä¸šæ¿20%ã€ç§‘åˆ›æ¿20%ã€åŒ—äº¤æ‰€30%
- âœ… **äº¤æ˜“æˆæœ¬** - ä½£é‡‘ã€å°èŠ±ç¨ã€è¿‡æˆ·è´¹
- âœ… **æ»‘ç‚¹æ¨¡å‹** - å¤§å•æ»‘ç‚¹æƒ©ç½š
- âœ… **å›æµ‹ç»Ÿè®¡** - å¤æ™®æ¯”ç‡ã€æœ€å¤§å›æ’¤ã€èƒœç‡ã€ç›ˆäºæ¯”

### ğŸ¤– AlphaQuant æ¨¡å‹
- âœ… **QK-Norm æ³¨æ„åŠ›** - æ›´ç¨³å®šçš„è®­ç»ƒ
- âœ… **SwiGLU å‰é¦ˆ** - æ›´å¥½çš„æ€§èƒ½
- âœ… **å¸‚åœºæƒ…ç»ªç¼–ç ** - å®½åŸºã€è¡Œä¸šã€èµ„é‡‘æµå‘
- âœ… **å¤šä»»åŠ¡å­¦ä¹ ** - æ”¶ç›Šã€å¤æ™®ã€å›æ’¤åŒæ—¶é¢„æµ‹
- âœ… **ç¬¦å·å›å½’** - ç”Ÿæˆå¯è§£é‡Šçš„å› å­å…¬å¼

### ğŸ¯ ç­–ç•¥ç®¡ç†
- âœ… **ä¿¡å·ç”Ÿæˆ** - åŸºäºå› å­åˆ†æ•°è‡ªåŠ¨ç”Ÿæˆä¹°å–ä¿¡å·
- âœ… **æŒä»“ç®¡ç†** - å¼€ä»“ã€åŠ ä»“ã€å‡ä»“ã€å¹³ä»“
- âœ… **é£é™©æ§åˆ¶** - æ­¢æŸã€æ­¢ç›ˆã€ç§»åŠ¨æ­¢æŸ
- âœ… **ä»“ä½è®¡ç®—** - æ ¹æ®é£é™©å’Œèµ„é‡‘è‡ªåŠ¨è®¡ç®—ä»“ä½

### ğŸ“Š å¯è§†åŒ–é¢æ¿
- âœ… **æƒç›Šæ›²çº¿** - èµ„é‡‘å¢é•¿è¶‹åŠ¿
- âœ… **å›æ’¤åˆ†æ** - æœ€å¤§å›æ’¤å’Œæ—¶é—´
- âœ… **æ”¶ç›Šåˆ†å¸ƒ** - æ—¥æ”¶ç›Šç‡ç›´æ–¹å›¾
- âœ… **æœˆåº¦çƒ­å›¾** - æŒ‰å¹´æœˆçš„æ”¶ç›Šåˆ†å¸ƒ
- âœ… **äº¤æ˜“è®°å½•** - è¯¦ç»†çš„äº¤æ˜“å†å²

---

## ğŸ› ï¸ ç¯å¢ƒè¦æ±‚

### å¿…éœ€ç¯å¢ƒ

| ç»„ä»¶ | ç‰ˆæœ¬è¦æ±‚ | è¯´æ˜ |
|-----|---------|------|
| Python | 3.9+ | è¿è¡Œç¯å¢ƒ |
| pip | æœ€æ–° | åŒ…ç®¡ç†å™¨ |
| Git | ä»»æ„ | ç‰ˆæœ¬æ§åˆ¶ |

### å¯é€‰ç¯å¢ƒ

| ç»„ä»¶ | ç‰ˆæœ¬è¦æ±‚ | ç”¨é€” |
|-----|---------|------|
| CUDA | 11.8+ | GPU åŠ é€Ÿï¼ˆå¯é€‰ï¼‰ |
| MongoDB | 4.4+ | æ•°æ®ç¼“å­˜ï¼ˆå¯é€‰ï¼‰ |
| Streamlit | 1.28+ | å¯è§†åŒ–é¢æ¿ï¼ˆå¼€å‘ä¸­ï¼‰|

---

## ğŸ“¦ å®‰è£…æ­¥éª¤

### 1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/Pheglovog/AlphaGPT.git
cd AlphaGPT
```

### 2. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼ˆæ¨èï¼‰

```bash
# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
source venv/bin/activate  # Linux/Mac
# æˆ–
venv\Scripts\activate  # Windows
```

### 3. å®‰è£…ä¾èµ–

```bash
# ä½¿ç”¨å®‰è£…è„šæœ¬
python init_alphaquant.py

# æˆ–æ‰‹åŠ¨å®‰è£…
pip install torch numpy pandas aiohttp python-dotenv loguru pyyaml

# å¯é€‰ï¼šStreamlit é¢æ¿
pip install streamlit plotly

# å¯é€‰ï¼šMongoDB é©±åŠ¨
pip install pymongo
```

### 4. é…ç½®ç¯å¢ƒå˜é‡

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼š

```bash
# Tushare Pro é…ç½®
TUSHARE_TOKEN=ä½ çš„Tushare_Pro_Token
TUSHARE_CONCURRENT_LIMIT=5  # 2000ç§¯åˆ†=5, 5000ç§¯åˆ†=10

# MongoDBï¼ˆå¯é€‰ï¼‰
MONGODB_URI=mongodb://localhost:27017/
MONGODB_DB=alphaquant

# æ¨¡å‹å‚æ•°
MODEL_D_MODEL=128
MODEL_NHEAD=8
MODEL_NUM_LAYERS=4

# å›æµ‹å‚æ•°
BACKTEST_INITIAL_CAPITAL=1000000
BACKTEST_COMMISSION_RATE=0.0003

# ç­–ç•¥å‚æ•°
STRATEGY_MAX_POSITIONS=5
STRATEGY_BUY_THRESHOLD=0.7
STRATEGY_SELL_THRESHOLD=0.3
```

### 5. æµ‹è¯•è¿æ¥

```bash
python test_tushare.py
```

é¢„æœŸè¾“å‡ºï¼š
```
âœ… æˆåŠŸè·å– 2303 åªä¸Šäº¤æ‰€è‚¡ç¥¨
âœ… æˆåŠŸè·å– 22 æ¡ä¸Šè¯æŒ‡æ•°æ•°æ®
âœ… æˆåŠŸè·å– 22 æ¡è´µå·èŒ…å°æ•°æ®
âœ… Tushare stats: 4 requests in 0.1s (31.80 req/s)
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. è¿è¡Œç¤ºä¾‹

```bash
python run_examples.py
```

è¿™å°†æ¼”ç¤ºï¼š
- å› å­è®¡ç®—
- æ¨¡å‹æ¨ç†
- å›æµ‹å¼•æ“

### 2. å› å­è®¡ç®—

```python
from alphaquant.factors.china_factors import ChinaFactorEngine
import torch

# åˆ›å»ºå› å­å¼•æ“
engine = ChinaFactorEngine()

# å‡†å¤‡æ•°æ®
raw_data = {
    'close': torch.rand(5, 60) * 10 + 100,
    'open': torch.rand(5, 60) * 10 + 100,
    'high': torch.rand(5, 60) * 10 + 105,
    'low': torch.rand(5, 60) * 10 + 95,
    'volume': torch.rand(5, 60) * 1000000,
}

# è®¡ç®—å› å­
basic = engine.compute_basic_factors(raw_data)  # [5, 6, 60]
advanced = engine.compute_advanced_factors(raw_data)  # [5, 18, 60]
```

### 3. ç­–ç•¥å›æµ‹

```python
from alphaquant.backtest.backtester import BacktestEngine

# åˆ›å»ºå›æµ‹å¼•æ“
engine = BacktestEngine(initial_capital=100000.0)

# æ·»åŠ æ•°æ®
data = pd.read_csv('stock_data.csv')
engine.add_data('600519.SH', data)

# å®šä¹‰ç­–ç•¥
def my_strategy(symbol, history):
    orders = []
    # ä½ çš„ç­–ç•¥é€»è¾‘
    return orders

# è¿è¡Œå›æµ‹
results = engine.run(my_strategy, '2024-01-01', '2024-12-31')

# æŸ¥çœ‹ç»“æœ
print(f"æ€»æ”¶ç›Š: {results['total_return']:.2f}%")
print(f"å¤æ™®æ¯”ç‡: {results['sharpe_ratio']:.2f}")
print(f"æœ€å¤§å›æ’¤: {results['max_drawdown']:.2f}%")
```

### 4. æ¨¡å‹è®­ç»ƒ

```bash
python train_model.py --epochs 100 --batch-size 32 --lr 1e-4
```

### 5. å¯åŠ¨å¯è§†åŒ–é¢æ¿ï¼ˆå¼€å‘ä¸­ï¼‰

```bash
streamlit run alphaquant/dashboard/app.py
```

---

## ğŸ“‹ é¡¹ç›®ç»“æ„

```
AlphaGPT/
â”œâ”€â”€ alphaquant/                 # æ ¸å¿ƒæ¨¡å—
â”‚   â”œâ”€â”€ data_providers/        # æ•°æ®æä¾›è€…
â”‚   â”‚   â””â”€â”€ tushare.py     # Tushare Pro æ¥å£
â”‚   â”œâ”€â”€ factors/              # å› å­å¼•æ“
â”‚   â”‚   â””â”€â”€ china_factors.py # ä¸­å›½å¸‚åœºå› å­
â”‚   â”œâ”€â”€ model/                # æ¨¡å‹
â”‚   â”‚   â””â”€â”€ alpha_quant.py  # AlphaQuant æ¨¡å‹
â”‚   â”œâ”€â”€ backtest/             # å›æµ‹
â”‚   â”‚   â””â”€â”€ backtester.py  # å›æµ‹å¼•æ“
â”‚   â”œâ”€â”€ strategy/             # ç­–ç•¥
â”‚   â”‚   â””â”€â”€ manager.py      # ç­–ç•¥ç®¡ç†å™¨
â”‚   â”œâ”€â”€ dashboard/            # é¢æ¿
â”‚   â”‚   â””â”€â”€ app.py         # Streamlit åº”ç”¨
â”‚   â””â”€â”€ config/              # é…ç½®
â”‚       â””â”€â”€ config.yaml      # é…ç½®æ–‡ä»¶
â”‚
â”œâ”€â”€ openspec/                 # OpenSpec è§„èŒƒ
â”‚   â”œâ”€â”€ specs/              # åŠŸèƒ½è§„èŒƒ
â”‚   â””â”€â”€ changes/            # å˜æ›´è®°å½•
â”‚
â”œâ”€â”€ init_alphaquant.py        # åˆå§‹åŒ–è„šæœ¬
â”œâ”€â”€ run_examples.py          # è¿è¡Œç¤ºä¾‹
â”œâ”€â”€ test_tushare.py         # è¿æ¥æµ‹è¯•
â”œâ”€â”€ train_model.py          # è®­ç»ƒè„šæœ¬
â”œâ”€â”€ .env                    # ç¯å¢ƒå˜é‡
â”œâ”€â”€ venv/                  # è™šæ‹Ÿç¯å¢ƒ
â”‚
â”œâ”€â”€ OPENSPEC.md             # OpenSpec å·¥ä½œæµç¨‹
â”œâ”€â”€ README_CN.md            # ä¸­æ–‡æ–‡æ¡£
â”œâ”€â”€ SUMMARY.md              # é¡¹ç›®æ€»ç»“
â””â”€â”€ TUSHARE_429_SOLUTION.md # 429 é”™è¯¯è§£å†³æ–¹æ¡ˆ
```

---

## ğŸ“š æ–‡æ¡£

| æ–‡æ¡£ | è¯´æ˜ |
|-----|------|
| [OPENSPEC.md](OPENSPEC.md) | OpenSpec å·¥ä½œæµç¨‹ |
| [README_CN.md](README_CN.md) | ä¸­æ–‡ä½¿ç”¨æ–‡æ¡£ |
| [SUMMARY.md](SUMMARY.md) | é¡¹ç›®æ€»ç»“ |
| [TUSHARE_429_SOLUTION.md](TUSHARE_429_SOLUTION.md) | 429 é”™è¯¯è§£å†³æ–¹æ¡ˆ |
| [openspec/specs/](openspec/specs/) | åŠŸèƒ½è§„èŒƒæ–‡æ¡£ |

---

## ğŸ”‘ Tushare Pro é…ç½®

### è·å– Token

1. è®¿é—® https://tushare.pro
2. æ³¨å†Œ/ç™»å½•
3. è¿›å…¥ã€Œç”¨æˆ·ä¸­å¿ƒã€â†’ã€ŒAPI Tokenã€
4. å¤åˆ¶ä½ çš„ Token

### ç§¯åˆ†ç­‰çº§

| ç­‰çº§ | è´¹ç”¨ | å¹¶å‘ | æ¯åˆ†é’Ÿé¢‘æ¬¡ | é€‚ç”¨åœºæ™¯ |
|-----|------|------|-----------|---------|
| å…è´¹ | 0å…ƒ | 2 | 50æ¬¡ | å­¦ä¹ æµ‹è¯• |
| 2000ç§¯åˆ† | 200å…ƒ/å¹´ | 5 | 200æ¬¡ | æ—¥å¸¸æŠ•èµ„ |
| 5000ç§¯åˆ† | 500å…ƒ/å¹´ | 10 | 500æ¬¡ | é‡åŒ–ç ”ç©¶ |

### å…è´¹è·å–ç§¯åˆ†

1. å…³æ³¨"æŒ–åœ°å…”"å…¬ä¼—å· + å°çº¢ä¹¦
2. åŠ å…¥ Tushare QQ ç¾¤ï¼ˆ1036369385ï¼‰
3. @ç¾¤ä¸»ï¼š"å·²å…³æ³¨å…¬ä¼—å·å’Œå°çº¢ä¹¦"
4. å…è´¹è·å¾— 200 ç§¯åˆ†

---

## ğŸ¯ ä½¿ç”¨åœºæ™¯

### åœºæ™¯ 1: å­¦ä¹ é‡åŒ–

```bash
# è¿è¡Œç¤ºä¾‹ï¼Œäº†è§£ç³»ç»Ÿæ¶æ„
python run_examples.py

# ç ”ç©¶å› å­ï¼Œç†è§£å¸‚åœºç‰¹å¾
python -c "from alphaquant.factors.china_factors import ChinaFactorEngine; ..."
```

### åœºæ™¯ 2: ç­–ç•¥å›æµ‹

```python
# ç¼–å†™ä½ çš„ç­–ç•¥
def my_strategy(symbol, history):
    # åŸºäºå› å­çš„ç­–ç•¥
    return orders

# å›æµ‹éªŒè¯
from alphaquant.backtest.backtester import BacktestEngine
engine = BacktestEngine()
results = engine.run(my_strategy, ...)
```

### åœºæ™¯ 3: å› å­æŒ–æ˜

```python
# ä½¿ç”¨ AlphaQuant æ¨¡å‹è‡ªåŠ¨ç”Ÿæˆå› å­å…¬å¼
from alphaquant.model.alpha_quant import AlphaQuant
model = AlphaQuant(config)
formulas = model.generate_formula(features, sentiment)
```

### åœºæ™¯ 4: å®ç›˜æ¨¡æ‹Ÿ

```python
# ä½¿ç”¨ç­–ç•¥ç®¡ç†å™¨æ¨¡æ‹Ÿå®ç›˜
from alphaquant.strategy.manager import StrategyManager
manager = StrategyManager(config)
# ... æ¯æ—¥æ›´æ–°æŒä»“
```

---

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

---

## ğŸ“„ License

MIT

---

## ğŸ™ è‡´è°¢

- [AlphaGPT](https://github.com/imbue-bit/AlphaGPT) - åŸå§‹æ¶æ„
- [Tushare Pro](https://tushare.pro) - æ•°æ®æ”¯æŒ
- [PyTorch](https://pytorch.org/) - æ·±åº¦å­¦ä¹ æ¡†æ¶

---

**å¼€å‘è€…**: Pheglovog
**æœ€åæ›´æ–°**: 2026-01-31
